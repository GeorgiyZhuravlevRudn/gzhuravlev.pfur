---
lang: ru-RU
title: "Лабораторная работа №12"
author: "Журавлев Георгий Иванович"
---

# Цель работы
 Изучить основы программирования в оболочке ОС UNIX, научиться писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

# Ход работы.

### 1. Используя команды getopts grep, написал командный файл, который анализирует командную строку с ключами:
        – -i — прочитать данные из указанного файла;
        – -o — вывести данные в указанный файл;
        – -p - шаблон — указать шаблон для поиска;
        – -C — различать большие и малые буквы;
        – -n — выдавать номера строк.
        а затем ищет в указанном файле нужные строки, определяемые ключом -p.
![командный файл](screens/01.jpg)

### 2. Написал на языке Cpp программу, которая вводит число и определяет, является ли оно больше нуля, меньше нуля или равно нулю. Затем программа завершается с помощью функции exit(n), передавая информацию в о коде завершения в оболочку. Командный файл должен вызывать эту программу и, проанализировав с помощью команды $?, выдать сообщение о том, какое число было введено.
![командный файл](screens/02.jpg)

![изменение прав](screens/03.jpg)

![результат работы командного файла](screens/04.jpg)

### 3. Написал командный файл, создающий указанное число файлов, пронумерованных последовательно от 1 до i. Число файлов, которые необходимо создать, передаётся в аргументы командной строки. Этот же командный файл должен уметь удалять все созданные им файлы (если они существуют).
![командный файл](screens/05.jpg)

![результат работы командного файла](screens/06.jpg)

![результат работы командного файла](screens/07.jpg)

### 4. Написал командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории. Модифицировал его так, чтобы запаковывались только те файлы, которые были изменены менее недели тому назад (использовал команду find).
![командный файл](screens/10.jpg)

![результат работы командного файла](screens/11.jpg)

![результат работы командного файла](screens/09.jpg)

# Вывод
Благодаря этой лабараторной работе, я написал некоторые интересные скрипты , которые оказались сложнее предыдущих; развился в сфере взаимодействия с bash.

# Контрольные вопросы.

        1. Команда getopts предназначена для разбора параметров сценариев. Она обрабатывает исключительно однобуквенные параметры как с аргументами, так и без них.

        2. Метасимволы используются для генерации имен:
        2.1. ? произвольный символ;
        2.2. * произвольная последовательность символов;
        2.3. [...] любой из символов, указанных в скобках перечислением и/или с указанием диапазона;

        3. Операторы: ";" ; &&(и) ; ||(или); $. - операторы управления действиями.

        4. Оператор break используется для прерывания цикла.

        5. Команда true всегда возвращает. Команда false всегда возвращает не ноль. Программа true – всегда завершается с кодом 0, false – всегда завершается с кодом 1.

        6. Эта строка означает условие существования файла man$s/$i.$s

        7. Цикл While выполняется до тех пор, пока указанное в нем условие истинно. Цикл Until выполняется до тех пор, пока указанное в нем условие ложно.
